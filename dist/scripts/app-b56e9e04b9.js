!function(){"use strict";angular.module("dragonflyApp",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ui.router","ui.bootstrap","toastr","angular.img"])}(),function(){"use strict";function e(e){function n(){function n(){e.setCurrentUser(a.edit_username),t()}function t(){a.changing_username?a.changing_username=!1:a.changing_username=!0}var a=this;a.changing_username=!1,console.log(e.getCurrentUser()),a.user_name=e.getCurrentUser(),a.edit_username=t,a.save_username=n}var t={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:n,controllerAs:"vm",bindToController:!0};return t}e.$inject=["eventsFactory"],angular.module("dragonflyApp").directive("acmeNavbar",e)}(),function(){"use strict";function e(e,n,t,a){function i(){e(function(){v.classAnimation="rubberBand"},4e3)}function o(){n.info('Fork <a href="https://github.com/Swiip/generator-gulp-angular" target="_blank"><b>generator-gulp-angular</b></a>'),v.classAnimation=""}function r(e){v.loading_events=!1,v.events=e}function s(e){console.log("updating attendate result"),console.log(e),""===e&&n.error("Error getting event status from server"),v.attendanace_flg=e.coming}function l(){"id"in v.mainevent&&t.getEventStatus(v.mainevent.id,v.user_name).then(s)}function c(){console.log("inside updateAttendateResult "+v.attendanace_flg),console.log("updateAttendateMainEvent:::this the evewnt id "+v.mainevent.id),t.modifyEvent(v.mainevent.id,v.user_name,v.attendanace_flg).then(function(){})}function u(e){v.selected_mainevent=!0,v.mainevent=e,console.log("setMainEvent:::this the evewnt id "+e.id)}function d(e){return"id"in e&&"images"in e&&e.images.length>0?"http://dev.dragonflyathletics.com:1337/api/dfkey/events/"+e.id+"/media/"+e.images[0].id:""}function m(e,n){return"http://dev.dragonflyathletics.com:1337/api/dfkey/events/"+e+"/media/"+n.id}var v=this;v.user_name="shubinwu",v.attendanace_flg=!0,v.selected_mainevent=!1,v.mainevent={},v.mainevent.location={},v.mainevent.location.city="",v.awesomeThings=[],v.events=[],v.loading_events=!0,v.classAnimation="",v.creationDate=1520721760682,v.showToastr=o,v.getThumbnailUrl=d,v.setMainEvent=u,v.getImageUrl=m,v.updateAttendateMainEvent=c,i(),t.listEvents().then(r),a(l,4e3)}e.$inject=["$timeout","toastr","eventsFactory","$interval"],angular.module("dragonflyApp").controller("MainController",e)}(),function(){"use strict";angular.module("dragonflyApp").factory("httpRequestInterceptor",["$rootScope",function(e){return{request:function(n){return void 0===e.user?n.headers.Authorization="Basic "+window.btoa("FAKKEE:evalpass"):n.headers.Authorization="Basic "+window.btoa(e.user+":evalpass"),n}}}])}(),function(){"use strict";angular.module("dragonflyApp").factory("eventsFactory",["$q","$http","toastr","$cookies","$rootScope",function(e,n,t,a,i){function o(){return console.log("this current user got called"),void 0===a.get("user")?(r("default"),i.user="default","default"):a.get("user")}function r(e){a.put("user",e),i.user=e,t.info("Succesfully changed user name")}function s(n){return"PUT"===n.config.method&&t.info("Succesfully updated attendance for event"),console.log(n),e.resolve(n.data)}function l(n){return"PUT"===n.config.method&&t.error("Unable to update attendance for event"),console.log(n),console.log("There was an error"),e.reject(n)}function c(){var e=v+"events";return n.get(e).then(s,l)}function u(e,t){var a=v+"events/"+e+"/status/"+t;return n.get(a).then(s,l)}function d(e,t,a){var i={coming:a},o=v+"events/"+e+"/status/"+t;return n.put(o,i).then(s,l)}var m={getCurrentUser:o,setCurrentUser:r,listEvents:c,getEventStatus:u,modifyEvent:d},v="http://dev.dragonflyathletics.com:1337/api/dfkey/";return m}])}(),function(){"use strict";function e(e){e.debug("runBlock end")}e.$inject=["$log"],angular.module("dragonflyApp").run(e)}(),function(){"use strict";function e(e,n){e.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}),n.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("dragonflyApp").config(e)}(),function(){"use strict";angular.module("dragonflyApp")}(),function(){"use strict";function e(e,n,t){e.debugEnabled(!0),n.allowHtml=!0,n.timeOut=3e3,n.positionClass="toast-top-right",n.preventDuplicates=!0,n.progressBar=!0,t.interceptors.push("httpRequestInterceptor")}e.$inject=["$logProvider","toastrConfig","$httpProvider"],angular.module("dragonflyApp").config(e)}(),angular.module("dragonflyApp").run(["$templateCache",function(e){e.put("app/main/main.html",'<div class=container><div><acme-navbar creation-date=main.creationDate></acme-navbar></div><div class="jumbotron text-center" ng-show=main.selected_mainevent><h1>{{main.mainevent.name}}</h1><h4>{{main.mainevent.location.city}}</h4><div><div uib-carousel active=active interval=myInterval no-wrap=noWrapSlides><div uib-slide ng-repeat="image in main.mainevent.images track by $index" index=$index><img http-src="{{main.getImageUrl(main.mainevent.id, image)}}" style=margin:auto><div class=carousel-caption><p>{{image.caption}}</p></div></div></div></div><br><uib-accordion close-others=oneAtATime><div uib-accordion-group class=panel-default heading=Description><p><small>{{main.mainevent.description}}</small></p></div><div uib-accordion-group class=panel-danger heading=Comments><div ng-repeat="comment in main.mainevent.comments"><h3>{{comment.from}}</h3><blockquote class=blockquote><p class=mb-0>{{comment.text}}</p></blockquote></div></div><div uib-accordion-group class=panel-default heading=Location><h6>{{main.mainevent.location.name}}</h6><p><small>{{main.mainevent.location.address}}</small></p><p><small>{{main.mainevent.location.city}}, {{main.mainevent.location.state}}</small></p></div></uib-accordion><div class=btn-group ng-hide=main.attendanace_flg><label class="btn btn-primary" ng-model=main.attendanace_flg ng-click=main.updateAttendateMainEvent() uib-btn-checkbox>Go to Event</label></div><div class=btn-group ng-show=main.attendanace_flg><label class="btn btn-danger" ng-model=main.attendanace_flg ng-click=main.updateAttendateMainEvent() uib-btn-checkbox>Cancel Reservation</label></div></div><br><div ng-hide=main.loading_events><h1>Events</h1><div class=row><div class="col-sm-6 col-md-4" ng-repeat="event in main.events track by $index"><div class=thumbnail ng-click=main.setMainEvent(event)><!--<img class="pull-right" src="assets/images/yeoman.png" alt="I\'m Yeoman">--> <img class=pull-right http-src={{main.getThumbnailUrl(event)}}><div class=caption><h3>{{ event.name }}</h3><p>{{ event.location.city }}</p><p><a ng-href={{event.url}}>{{ event.url }}</a></p></div></div></div></div></div><div ng-show=main.loading_events><h1>Loading events...</h1></div></div>'),e.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-static-top navbar-inverse"><div class=container-fluid><div class=navbar-header><h2 class=navbar-brand ng-click=vm.edit_username()><span class="glyphicon glyphicon-home"></span> Events App ::: Current user {{vm.user_name}}</h2><div class=form-group ng-show=vm.changing_username><label class=navbar-brand>Username:</label><input type=text ng-model=vm.user_name class=form-control> <button type=button class="btn btn-primary" ng-click=vm.save_username()>Save</button></div></div></div></nav>')}]);
//# sourceMappingURL=../maps/scripts/app-b56e9e04b9.js.map
